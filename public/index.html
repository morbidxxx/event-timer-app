<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Timer App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      html,
      body,
      #root {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      }
    </style>
  </head>
  <body class="min-h-screen">
    <div id="root"></div>

    <script type="module">
      // Import React from CDN (matching component version)
      import React, { useState, useEffect } from 'https://esm.sh/react@18.2.0';
      import { createRoot } from 'https://esm.sh/react-dom@18.2.0/client';

      // Hatch client initialization with localStorage-based storage
      const initHatchClient = async (useEffect, useState) => {
          // Try to load stored state from JSON file, fallback to inline data
          let initialStorage = {};
          try {
              const response = await fetch('./storedState.json');
              initialStorage = await response.json();
          } catch (error) {
              console.warn('Could not load storedState.json, using inline data:', error);
              // Fallback to inline stored state data for file:// URLs
              initialStorage = {"settings":{"theme":"dark","soundEnabled":true,"desktopNotifications":true,"notificationDays":[1,3,7],"backgroundImage":"keys/abstract-purple?prompt=abstract%20purple%20pink%20black%20geometric%20background"},"events":[{"id":1754533405862,"name":"исмси","date":"2025-07-29T00:00","repeat":"none","repeatInterval":1}]};
          }

          // Initialize localStorage with stored state
          const STORAGE_PREFIX = 'hatch_component_';
          Object.entries(initialStorage).forEach(([key, value]) => {
              const storageKey = STORAGE_PREFIX + key;
              if (!localStorage.getItem(storageKey)) {
                  localStorage.setItem(storageKey, JSON.stringify(value));
              }
          });

          // Implement useStoredState hook compatible with Hatch
          const useStoredState = (key, defaultValue) => {
              const storageKey = STORAGE_PREFIX + key;

              // Get initial value from localStorage or use default
              const getStoredValue = () => {
                  try {
                      const item = localStorage.getItem(storageKey);
                      return item ? JSON.parse(item) : defaultValue;
                  } catch (error) {
                      console.warn('Error reading from localStorage:', error);
                      return defaultValue;
                  }
              };

              const [value, setValue] = useState(getStoredValue);

              // Update localStorage when value changes
              const setStoredValue = (newValue) => {
                  try {
                      const valueToStore = typeof newValue === 'function' ? newValue(value) : newValue;
                      localStorage.setItem(storageKey, JSON.stringify(valueToStore));
                      setValue(valueToStore);
                  } catch (error) {
                      console.error('Error writing to localStorage:', error);
                  }
              };

              // Listen for storage changes from other tabs/windows
              useEffect(() => {
                  const handleStorageChange = (e) => {
                      if (e.key === storageKey && e.newValue) {
                          try {
                              setValue(JSON.parse(e.newValue));
                          } catch (error) {
                              console.warn('Error parsing storage change:', error);
                          }
                      }
                  };

                  window.addEventListener('storage', handleStorageChange);
                  return () => window.removeEventListener('storage', handleStorageChange);
              }, [storageKey]);

              return [value, setStoredValue];
          };

          // Set up global Hatch client interface
          window.hatch = {
              useStoredState,
              // Mock implementations for other Hatch features
              useUser: () => ({ id: 'local', name: 'Local User', color: '#4F46E5' }),
              useCollaborators: () => [],
              useAssets: () => [],
              getAllItems: async () => {
                  const items = {};
                  for (let i = 0; i < localStorage.length; i++) {
                      const key = localStorage.key(i);
                      if (key && key.startsWith(STORAGE_PREFIX)) {
                          const itemKey = key.replace(STORAGE_PREFIX, '');
                          try {
                              items[itemKey] = JSON.parse(localStorage.getItem(key));
                          } catch (error) {
                              console.warn('Error parsing stored item:', key, error);
                          }
                      }
                  }
                  return items;
              },
              getItem: async (key) => {
                  try {
                      const item = localStorage.getItem(STORAGE_PREFIX + key);
                      return item ? JSON.parse(item) : undefined;
                  } catch (error) {
                      console.warn('Error getting item:', key, error);
                      return undefined;
                  }
              },
              setItem: async (key, value) => {
                  try {
                      localStorage.setItem(STORAGE_PREFIX + key, JSON.stringify(value));
                  } catch (error) {
                      console.error('Error setting item:', key, error);
                  }
              }
          };

          // Backward compatibility and global availability
          window.useStoredState = useStoredState;
          window.React = React;
          window.useState = useState;
          window.useEffect = useEffect;
      };

      // Initialize Hatch client
      await initHatchClient(useEffect, useState);

      try {
          // Try to load component from external file, fallback to inline code
          let componentCode;
          try {
              const response = await fetch('./component.js');
              componentCode = await response.text();
          } catch (fetchError) {
              console.warn('Could not load component.js, using inline code:', fetchError);
              // Fallback to inline component code for file:// URLs
              componentCode = `// <stdin>
import React, { useState, useEffect, useCallback } from "https://esm.sh/react@18.2.0";
import { Bell, Plus, Settings, Sun, Moon, Calendar, Clock, Edit, Trash2, X, Image as ImageIcon, Upload, Home, List } from "https://esm.sh/lucide-react?deps=react@18.2.0,react-dom@18.2.0";
var EventTimerApp = () => {
  const { useStoredState } = hatch;
  const [events, setEvents] = useStoredState("events", []);
  const [settings, setSettings] = useStoredState("settings", {
    theme: "light",
    soundEnabled: true,
    desktopNotifications: true,
    notificationDays: [1, 3, 7],
    // за 1 день, 3 дня, неделю
    backgroundImage: null
  });
  const [currentTime, setCurrentTime] = useState(/* @__PURE__ */ new Date());
  const [showAddEventModal, setShowAddEventModal] = useState(false);
  const [showNotificationModal, setShowNotificationModal] = useState(false);
  const [showSettingsModal, setShowSettingsModal] = useState(false);
  const [showBackgroundModal, setShowBackgroundModal] = useState(false);
  const [editingEvent, setEditingEvent] = useState(null);
  const [currentMonth, setCurrentMonth] = useState((/* @__PURE__ */ new Date()).getMonth());
  const [currentYear, setCurrentYear] = useState((/* @__PURE__ */ new Date()).getFullYear());
  const [notifications, setNotifications] = useState([]);
  const [activeTab, setActiveTab] = useState("home");
  const [eventForm, setEventForm] = useState({
    name: "",
    date: "",
    time: "",
    repeat: "none",
    repeatInterval: 1
  });
  const backgroundImages = [
    { id: "gradient1", name: "\\u0424\\u0438\\u043E\\u043B\\u0435\\u0442\\u043E\\u0432\\u044B\\u0439 \\u0433\\u0440\\u0430\\u0434\\u0438\\u0435\\u043D\\u0442", url: "assets/purple-gradient.jpeg?prompt=abstract%20purple%20gradient%20background%20with%20dark%20tones" },
    { id: "gradient2", name: "\\u0420\\u043E\\u0437\\u043E\\u0432\\u044B\\u0439 \\u0433\\u0440\\u0430\\u0434\\u0438\\u0435\\u043D\\u0442", url: "assets/pink-gradient.jpeg?prompt=abstract%20pink%20and%20purple%20gradient%20background" },
    { id: "gradient3", name: "\\u041A\\u043E\\u0441\\u043C\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439", url: "assets/space-gradient.jpeg?prompt=dark%20space%20background%20with%20purple%20pink%20nebula%20and%20stars" },
    { id: "gradient4", name: "\\u0410\\u0431\\u0441\\u0442\\u0440\\u0430\\u043A\\u0446\\u0438\\u044F", url: "assets/abstract-purple.jpeg?prompt=abstract%20purple%20pink%20black%20geometric%20background" }
  ];
  useEffect(() => {
    const timer = setInterval(() => {
      setCurrentTime(/* @__PURE__ */ new Date());
    }, 1e3);
    return () => clearInterval(timer);
  }, []);
  useEffect(() => {
    const checkNotifications = () => {
      const now = /* @__PURE__ */ new Date();
      const newNotifications = [];
      events.forEach((event) => {
        const eventDate = new Date(event.date);
        const timeDiff = eventDate.getTime() - now.getTime();
        const daysDiff = Math.ceil(timeDiff / (1e3 * 3600 * 24));
        settings.notificationDays.forEach((days) => {
          if (daysDiff === days && timeDiff > 0) {
            newNotifications.push({
              id: \`\${event.id}-\${days}\`,
              eventName: event.name,
              daysLeft: days,
              eventDate
            });
          }
        });
      });
      if (newNotifications.length > 0) {
        setNotifications((prev) => [...prev, ...newNotifications]);
        if (settings.desktopNotifications) {
          newNotifications.forEach((notification) => {
            if ("Notification" in window) {
              new Notification(\`\\u041D\\u0430\\u043F\\u043E\\u043C\\u0438\\u043D\\u0430\\u043D\\u0438\\u0435 \\u043E \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u0438\`, {
                body: \`"\${notification.eventName}" \\u0447\\u0435\\u0440\\u0435\\u0437 \${notification.daysLeft} \${getDaysText(notification.daysLeft)}\`,
                icon: "\\u{1F514}"
              });
            }
          });
        }
      }
    };
    checkNotifications();
    const interval = setInterval(checkNotifications, 6e4);
    return () => clearInterval(interval);
  }, [events, settings.notificationDays, settings.desktopNotifications]);
  const getDaysText = (days) => {
    if (days === 1) return "\\u0434\\u0435\\u043D\\u044C";
    if (days < 5) return "\\u0434\\u043D\\u044F";
    return "\\u0434\\u043D\\u0435\\u0439";
  };
  const formatTimeRemaining = (targetDate) => {
    const now = currentTime;
    const target = new Date(targetDate);
    const diff = target.getTime() - now.getTime();
    if (diff <= 0) {
      return { text: "\\u0421\\u043E\\u0431\\u044B\\u0442\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0448\\u043B\\u043E", expired: true };
    }
    const days = Math.floor(diff / (1e3 * 60 * 60 * 24));
    const hours = Math.floor(diff % (1e3 * 60 * 60 * 24) / (1e3 * 60 * 60));
    const minutes = Math.floor(diff % (1e3 * 60 * 60) / (1e3 * 60));
    const seconds = Math.floor(diff % (1e3 * 60) / 1e3);
    return {
      text: \`\${days} \\u0434\\u043D. \${hours.toString().padStart(2, "0")} \\u0447. \${minutes.toString().padStart(2, "0")} \\u043C\\u0438\\u043D. \${seconds.toString().padStart(2, "0")} \\u0441\\u0435\\u043A.\`,
      expired: false,
      urgent: days === 0 && hours < 24
    };
  };
  const addEvent = () => {
    const newEvent = {
      id: Date.now(),
      name: eventForm.name,
      date: \`\${eventForm.date}T\${eventForm.time || "00:00"}\`,
      repeat: eventForm.repeat,
      repeatInterval: parseInt(eventForm.repeatInterval) || 1
    };
    setEvents([...events, newEvent]);
    resetForm();
    setShowAddEventModal(false);
  };
  const updateEvent = () => {
    setEvents(events.map(
      (event) => event.id === editingEvent.id ? { ...event, name: eventForm.name, date: \`\${eventForm.date}T\${eventForm.time || "00:00"}\`, repeat: eventForm.repeat, repeatInterval: parseInt(eventForm.repeatInterval) || 1 } : event
    ));
    resetForm();
    setShowAddEventModal(false);
    setEditingEvent(null);
  };
  const deleteEvent = (id) => {
    setEvents(events.filter((event) => event.id !== id));
  };
  const resetForm = () => {
    setEventForm({
      name: "",
      date: "",
      time: "",
      repeat: "none",
      repeatInterval: 1
    });
  };
  const openEditModal = (event) => {
    const eventDate = new Date(event.date);
    setEventForm({
      name: event.name,
      date: eventDate.toISOString().split("T")[0],
      time: eventDate.toTimeString().slice(0, 5),
      repeat: event.repeat || "none",
      repeatInterval: event.repeatInterval || 1
    });
    setEditingEvent(event);
    setShowAddEventModal(true);
  };
  const toggleTheme = () => {
    setSettings((prev) => ({
      ...prev,
      theme: prev.theme === "light" ? "dark" : "light"
    }));
  };
  const setBackgroundImage = (imageUrl) => {
    setSettings((prev) => ({
      ...prev,
      backgroundImage: imageUrl
    }));
    setShowBackgroundModal(false);
  };
  const handleCustomImageUpload = (event) => {
    const file = event.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = (e) => {
        setBackgroundImage(e.target.result);
      };
      reader.readAsDataURL(file);
    }
  };
  const requestNotificationPermission = async () => {
    if ("Notification" in window && Notification.permission === "default") {
      await Notification.requestPermission();
    }
  };
  useEffect(() => {
    requestNotificationPermission();
  }, []);
  const generateCalendar = () => {
    const firstDay = new Date(currentYear, currentMonth, 1);
    const lastDay = new Date(currentYear, currentMonth + 1, 0);
    const startDate = new Date(firstDay);
    startDate.setDate(startDate.getDate() - firstDay.getDay() + 1);
    const days = [];
    const today = /* @__PURE__ */ new Date();
    for (let i = 0; i < 42; i++) {
      const date = new Date(startDate);
      date.setDate(startDate.getDate() + i);
      const hasEvent = events.some((event) => {
        const eventDate = new Date(event.date);
        return eventDate.toDateString() === date.toDateString();
      });
      const isToday = date.toDateString() === today.toDateString();
      const isCurrentMonth = date.getMonth() === currentMonth;
      days.push({
        date,
        day: date.getDate(),
        hasEvent,
        isToday,
        isCurrentMonth
      });
    }
    return days;
  };
  const isDark = settings.theme === "dark";
  const themeClasses = isDark ? "bg-gradient-to-br from-gray-900 via-purple-900 to-black text-white" : "bg-gradient-to-br from-purple-50 via-pink-50 to-white text-gray-900";
  const cardClasses = isDark ? "bg-gradient-to-br from-purple-800/20 via-pink-800/20 to-gray-800/20 border-purple-500/30 backdrop-blur-lg" : "bg-gradient-to-br from-white/80 via-purple-50/80 to-pink-50/80 border-purple-200 backdrop-blur-lg";
  const buttonClasses = isDark ? "bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700" : "bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600";
  const headerButtonClasses = isDark ? "bg-gradient-to-r from-purple-700/50 to-pink-700/50 hover:from-purple-600/50 hover:to-pink-600/50 backdrop-blur-sm border border-purple-500/30" : "bg-gradient-to-r from-purple-100 to-pink-100 hover:from-purple-200 hover:to-pink-200 border border-purple-300";
  const backgroundStyle = settings.backgroundImage ? {
    backgroundImage: \`url(\${settings.backgroundImage})\`,
    backgroundSize: "cover",
    backgroundPosition: "center",
    backgroundRepeat: "no-repeat"
  } : {};
  const HomeTab = () => /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("div", { className: \`flex items-center justify-between mb-4 p-4 rounded-2xl border \${cardClasses} shadow-lg\` }, /* @__PURE__ */ React.createElement("h1", { className: "text-2xl md:text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, /* @__PURE__ */ React.createElement(Clock, { className: "w-6 h-6 md:w-8 md:h-8 text-purple-500" }), "Event Timer"), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement(
    "button",
    {
      onClick: () => setShowNotificationModal(true),
      className: \`p-2 md:p-3 rounded-xl transition-all duration-300 \${headerButtonClasses} relative shadow-lg hover:shadow-xl\`
    },
    /* @__PURE__ */ React.createElement(Bell, { className: "w-5 h-5 md:w-6 md:h-6" }),
    notifications.length > 0 && /* @__PURE__ */ React.createElement("span", { className: "absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse shadow-lg" }, notifications.length)
  ), /* @__PURE__ */ React.createElement(
    "button",
    {
      onClick: () => setShowSettingsModal(true),
      className: \`p-2 md:p-3 rounded-xl transition-all duration-300 \${headerButtonClasses} shadow-lg hover:shadow-xl\`
    },
    /* @__PURE__ */ React.createElement(Settings, { className: "w-5 h-5 md:w-6 md:h-6" })
  ))), /* @__PURE__ */ React.createElement("div", { className: "space-y-4 mb-6" }, events.slice(0, 3).map((event) => {
    const timeRemaining = formatTimeRemaining(event.date);
    return /* @__PURE__ */ React.createElement(
      "div",
      {
        key: event.id,
        className: \`p-4 md:p-6 rounded-2xl border transition-all duration-300 \${cardClasses} shadow-xl hover:shadow-2xl \${timeRemaining.urgent ? "ring-2 ring-red-400 animate-pulse" : ""} \${timeRemaining.expired ? "opacity-60" : ""}\`
      },
      /* @__PURE__ */ React.createElement("div", { className: "flex justify-between items-start mb-3" }, /* @__PURE__ */ React.createElement("h3", { className: "text-lg md:text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex-1 pr-2" }, event.name), /* @__PURE__ */ React.createElement("div", { className: "flex gap-1" }, /* @__PURE__ */ React.createElement(
        "button",
        {
          onClick: () => openEditModal(event),
          className: \`p-1.5 md:p-2 rounded-lg transition-all duration-300 \${headerButtonClasses} hover:scale-110\`
        },
        /* @__PURE__ */ React.createElement(Edit, { className: "w-3 h-3 md:w-4 md:h-4" })
      ), /* @__PURE__ */ React.createElement(
        "button",
        {
          onClick: () => deleteEvent(event.id),
          className: "p-1.5 md:p-2 rounded-lg bg-gradient-to-r from-red-500/20 to-pink-500/20 hover:from-red-500/30 hover:to-pink-500/30 border border-red-400/30 transition-all duration-300 hover:scale-110"
        },
        /* @__PURE__ */ React.createElement(Trash2, { className: "w-3 h-3 md:w-4 md:h-4 text-red-400" })
      ))),
      /* @__PURE__ */ React.createElement("div", { className: \`text-xl md:text-2xl font-mono font-bold mb-2 \${timeRemaining.expired ? "text-red-400" : timeRemaining.urgent ? "text-orange-400" : "text-green-400"} drop-shadow-lg\` }, timeRemaining.text),
      /* @__PURE__ */ React.createElement("div", { className: "text-xs md:text-sm opacity-70 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent font-medium" }, new Date(event.date).toLocaleString("ru-RU"))
    );
  })), events.length === 0 && /* @__PURE__ */ React.createElement("div", { className: \`text-center py-12 md:py-16 rounded-2xl border-2 border-dashed \${isDark ? "border-purple-500/30" : "border-purple-300"} \${cardClasses} shadow-xl\` }, /* @__PURE__ */ React.createElement(Calendar, { className: "w-12 h-12 md:w-16 md:h-16 mx-auto mb-4 md:mb-6 opacity-50 text-purple-500" }), /* @__PURE__ */ React.createElement("p", { className: "text-lg md:text-2xl opacity-70 mb-4 md:mb-6 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent font-bold" }, "\\u041F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u0439"), /* @__PURE__ */ React.createElement(
    "button",
    {
      onClick: () => setShowAddEventModal(true),
      className: \`\${buttonClasses} text-white px-6 py-3 md:px-8 md:py-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 font-semibold\`
    },
    "\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u0435\\u0440\\u0432\\u043E\\u0435 \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u0435"
  )), events.length > 3 && /* @__PURE__ */ React.createElement("div", { className: "text-center" }, /* @__PURE__ */ React.createElement(
    "button",
    {
      onClick: () => setActiveTab("events"),
      className: \`\${buttonClasses} text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 font-semibold\`
    },
    "\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0432\\u0441\\u0435 \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u044F (",
    events.length,
    ")"
  )));
  const EventsTab = () => /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("div", { className: \`flex items-center justify-between mb-4 p-4 rounded-2xl border \${cardClasses} shadow-lg\` }, /* @__PURE__ */ React.createElement("h2", { className: "text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, "\\u0412\\u0441\\u0435 \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u044F (", events.length, ")"), /* @__PURE__ */ React.createElement(
    "button",
    {
      onClick: () => setShowAddEventModal(true),
      className: \`\${buttonClasses} text-white px-4 py-2 rounded-xl flex items-center gap-2 transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 font-semibold\`
    },
    /* @__PURE__ */ React.createElement(Plus, { className: "w-4 h-4" }),
    "\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C"
  )), /* @__PURE__ */ React.createElement("div", { className: "space-y-4" }, events.map((event) => {
    const timeRemaining = formatTimeRemaining(event.date);
    return /* @__PURE__ */ React.createElement(
      "div",
      {
        key: event.id,
        className: \`p-4 rounded-2xl border transition-all duration-300 \${cardClasses} shadow-lg hover:shadow-xl \${timeRemaining.urgent ? "ring-2 ring-red-400 animate-pulse" : ""} \${timeRemaining.expired ? "opacity-60" : ""}\`
      },
      /* @__PURE__ */ React.createElement("div", { className: "flex justify-between items-start mb-3" }, /* @__PURE__ */ React.createElement("h3", { className: "text-lg font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex-1 pr-2" }, event.name), /* @__PURE__ */ React.createElement("div", { className: "flex gap-1" }, /* @__PURE__ */ React.createElement(
        "button",
        {
          onClick: () => openEditModal(event),
          className: \`p-1.5 rounded-lg transition-all duration-300 \${headerButtonClasses} hover:scale-110\`
        },
        /* @__PURE__ */ React.createElement(Edit, { className: "w-3 h-3" })
      ), /* @__PURE__ */ React.createElement(
        "button",
        {
          onClick: () => deleteEvent(event.id),
          className: "p-1.5 rounded-lg bg-gradient-to-r from-red-500/20 to-pink-500/20 hover:from-red-500/30 hover:to-pink-500/30 border border-red-400/30 transition-all duration-300 hover:scale-110"
        },
        /* @__PURE__ */ React.createElement(Trash2, { className: "w-3 h-3 text-red-400" })
      ))),
      /* @__PURE__ */ React.createElement("div", { className: \`text-lg font-mono font-bold mb-2 \${timeRemaining.expired ? "text-red-400" : timeRemaining.urgent ? "text-orange-400" : "text-green-400"} drop-shadow-lg\` }, timeRemaining.text),
      /* @__PURE__ */ React.createElement("div", { className: "text-xs opacity-70 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent font-medium" }, new Date(event.date).toLocaleString("ru-RU"))
    );
  })), events.length === 0 && /* @__PURE__ */ React.createElement("div", { className: \`text-center py-12 rounded-2xl border-2 border-dashed \${isDark ? "border-purple-500/30" : "border-purple-300"} \${cardClasses} shadow-xl\` }, /* @__PURE__ */ React.createElement(List, { className: "w-12 h-12 mx-auto mb-4 opacity-50 text-purple-500" }), /* @__PURE__ */ React.createElement("p", { className: "text-lg opacity-70 mb-4 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent font-bold" }, "\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u0439 \\u043F\\u0443\\u0441\\u0442"), /* @__PURE__ */ React.createElement(
    "button",
    {
      onClick: () => setShowAddEventModal(true),
      className: \`\${buttonClasses} text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 font-semibold\`
    },
    "\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u0435"
  )));
  const CalendarTab = () => /* @__PURE__ */ React.createElement("div", { className: \`p-4 md:p-6 rounded-2xl border \${cardClasses} shadow-xl\` }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-6 md:mb-8" }, /* @__PURE__ */ React.createElement("h2", { className: "text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, "\\u041A\\u0430\\u043B\\u0435\\u043D\\u0434\\u0430\\u0440\\u044C"), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2 md:gap-4" }, /* @__PURE__ */ React.createElement(
    "button",
    {
      onClick: () => {
        if (currentMonth === 0) {
          setCurrentMonth(11);
          setCurrentYear(currentYear - 1);
        } else {
          setCurrentMonth(currentMonth - 1);
        }
      },
      className: \`p-2 md:p-3 rounded-xl transition-all duration-300 \${headerButtonClasses} shadow-lg hover:shadow-xl hover:scale-105\`
    },
    "\\u2190"
  ), /* @__PURE__ */ React.createElement("span", { className: "text-sm md:text-lg font-bold min-w-32 md:min-w-48 text-center bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, new Date(currentYear, currentMonth).toLocaleDateString("ru-RU", { month: "long", year: "numeric" })), /* @__PURE__ */ React.createElement(
    "button",
    {
      onClick: () => {
        if (currentMonth === 11) {
          setCurrentMonth(0);
          setCurrentYear(currentYear + 1);
        } else {
          setCurrentMonth(currentMonth + 1);
        }
      },
      className: \`p-2 md:p-3 rounded-xl transition-all duration-300 \${headerButtonClasses} shadow-lg hover:shadow-xl hover:scale-105\`
    },
    "\\u2192"
  ))), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-7 gap-1 md:gap-2 mb-2 md:mb-4" }, ["\\u041F\\u043D", "\\u0412\\u0442", "\\u0421\\u0440", "\\u0427\\u0442", "\\u041F\\u0442", "\\u0421\\u0431", "\\u0412\\u0441"].map((day) => /* @__PURE__ */ React.createElement("div", { key: day, className: "p-2 md:p-3 text-center text-xs md:text-sm font-bold opacity-70 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, day))), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-7 gap-1 md:gap-2" }, generateCalendar().map((day, index) => /* @__PURE__ */ React.createElement(
    "div",
    {
      key: index,
      className: \`p-2 md:p-3 text-center text-xs md:text-sm cursor-pointer rounded-lg md:rounded-xl transition-all duration-300 min-h-8 md:min-h-12 flex items-center justify-center relative hover:scale-105 \${!day.isCurrentMonth ? "opacity-30" : day.isToday ? "bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg" : day.hasEvent ? "bg-gradient-to-r from-green-500/30 to-emerald-500/30 text-green-300 font-bold border border-green-400/50" : isDark ? "hover:bg-gradient-to-r hover:from-purple-600/30 hover:to-pink-600/30" : "hover:bg-gradient-to-r hover:from-purple-200/50 hover:to-pink-200/50"} shadow-md hover:shadow-lg\`,
      onClick: () => {
        setEventForm((prev) => ({
          ...prev,
          date: day.date.toISOString().split("T")[0]
        }));
        setShowAddEventModal(true);
      }
    },
    day.day,
    day.hasEvent && /* @__PURE__ */ React.createElement("div", { className: "absolute bottom-0.5 md:bottom-1 left-1/2 transform -translate-x-1/2 w-1 md:w-2 h-1 md:h-2 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full animate-pulse shadow-lg" })
  ))));
  return /* @__PURE__ */ React.createElement(
    "div",
    {
      className: \`min-h-screen transition-all duration-300 \${themeClasses} relative pb-20\`,
      style: backgroundStyle
    },
    settings.backgroundImage && /* @__PURE__ */ React.createElement("div", { className: "absolute inset-0 bg-gradient-to-br from-black/30 via-purple-900/20 to-black/30 pointer-events-none" }),
    /* @__PURE__ */ React.createElement("div", { className: "p-4 max-w-md mx-auto relative z-10" }, activeTab === "home" && /* @__PURE__ */ React.createElement(HomeTab, null), activeTab === "events" && /* @__PURE__ */ React.createElement(EventsTab, null), activeTab === "calendar" && /* @__PURE__ */ React.createElement(CalendarTab, null)),
    /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowAddEventModal(true),
        className: \`fixed bottom-24 right-4 \${buttonClasses} text-white p-4 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-110 z-30\`
      },
      /* @__PURE__ */ React.createElement(Plus, { className: "w-6 h-6" })
    ),
    /* @__PURE__ */ React.createElement("div", { className: \`fixed bottom-0 left-0 right-0 \${cardClasses} border-t backdrop-blur-lg z-40\` }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-around py-2 safe-area-inset-bottom" }, /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setActiveTab("home"),
        className: \`flex flex-col items-center justify-center p-3 rounded-xl transition-all duration-300 \${activeTab === "home" ? "bg-gradient-to-r from-purple-500/20 to-pink-500/20 scale-105" : "hover:bg-purple-500/10"}\`
      },
      /* @__PURE__ */ React.createElement(Home, { className: \`w-6 h-6 mb-1 \${activeTab === "home" ? "text-purple-500" : isDark ? "text-gray-400" : "text-gray-600"}\` }),
      /* @__PURE__ */ React.createElement("span", { className: \`text-xs font-medium \${activeTab === "home" ? "text-purple-500" : isDark ? "text-gray-400" : "text-gray-600"}\` }, "\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F")
    ), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setActiveTab("events"),
        className: \`flex flex-col items-center justify-center p-3 rounded-xl transition-all duration-300 relative \${activeTab === "events" ? "bg-gradient-to-r from-purple-500/20 to-pink-500/20 scale-105" : "hover:bg-purple-500/10"}\`
      },
      /* @__PURE__ */ React.createElement(List, { className: \`w-6 h-6 mb-1 \${activeTab === "events" ? "text-purple-500" : isDark ? "text-gray-400" : "text-gray-600"}\` }),
      /* @__PURE__ */ React.createElement("span", { className: \`text-xs font-medium \${activeTab === "events" ? "text-purple-500" : isDark ? "text-gray-400" : "text-gray-600"}\` }, "\\u0421\\u043E\\u0431\\u044B\\u0442\\u0438\\u044F"),
      events.length > 0 && /* @__PURE__ */ React.createElement("span", { className: "absolute -top-1 -right-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center" }, events.length)
    ), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setActiveTab("calendar"),
        className: \`flex flex-col items-center justify-center p-3 rounded-xl transition-all duration-300 \${activeTab === "calendar" ? "bg-gradient-to-r from-purple-500/20 to-pink-500/20 scale-105" : "hover:bg-purple-500/10"}\`
      },
      /* @__PURE__ */ React.createElement(Calendar, { className: \`w-6 h-6 mb-1 \${activeTab === "calendar" ? "text-purple-500" : isDark ? "text-gray-400" : "text-gray-600"}\` }),
      /* @__PURE__ */ React.createElement("span", { className: \`text-xs font-medium \${activeTab === "calendar" ? "text-purple-500" : isDark ? "text-gray-400" : "text-gray-600"}\` }, "\\u041A\\u0430\\u043B\\u0435\\u043D\\u0434\\u0430\\u0440\\u044C")
    ), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowNotificationModal(true),
        className: \`flex flex-col items-center justify-center p-3 rounded-xl transition-all duration-300 relative hover:bg-purple-500/10\`
      },
      /* @__PURE__ */ React.createElement(Bell, { className: \`w-6 h-6 mb-1 \${isDark ? "text-gray-400" : "text-gray-600"}\` }),
      /* @__PURE__ */ React.createElement("span", { className: \`text-xs font-medium \${isDark ? "text-gray-400" : "text-gray-600"}\` }, "\\u0417\\u0432\\u043E\\u043D\\u043E\\u043A"),
      notifications.length > 0 && /* @__PURE__ */ React.createElement("span", { className: "absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse" }, notifications.length)
    ))),
    showBackgroundModal && /* @__PURE__ */ React.createElement("div", { className: "fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50" }, /* @__PURE__ */ React.createElement("div", { className: \`w-full max-w-lg rounded-2xl shadow-2xl \${cardClasses} p-6 md:p-8 max-h-screen overflow-y-auto\` }, /* @__PURE__ */ React.createElement("div", { className: "flex justify-between items-center mb-6 md:mb-8" }, /* @__PURE__ */ React.createElement("h3", { className: "text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2" }, /* @__PURE__ */ React.createElement(ImageIcon, { className: "w-5 h-5 md:w-6 md:h-6 text-purple-500" }), "\\u0412\\u044B\\u0431\\u043E\\u0440 \\u0444\\u043E\\u043D\\u0430"), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowBackgroundModal(false),
        className: \`p-2 rounded-xl transition-all duration-300 \${headerButtonClasses} hover:scale-105\`
      },
      /* @__PURE__ */ React.createElement(X, { className: "w-5 h-5 md:w-6 md:h-6" })
    )), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-2 gap-3 md:gap-4 mb-4 md:mb-6" }, /* @__PURE__ */ React.createElement(
      "div",
      {
        onClick: () => setBackgroundImage(null),
        className: \`aspect-square rounded-xl border-2 cursor-pointer transition-all duration-300 hover:scale-105 flex items-center justify-center \${!settings.backgroundImage ? "border-purple-500 bg-gradient-to-br from-purple-500/20 to-pink-500/20" : "border-purple-300/30 bg-gradient-to-br from-gray-200 to-gray-300"} shadow-lg hover:shadow-xl\`
      },
      /* @__PURE__ */ React.createElement(X, { className: "w-6 h-6 md:w-8 md:h-8 text-gray-500" })
    ), backgroundImages.map((bg) => /* @__PURE__ */ React.createElement(
      "div",
      {
        key: bg.id,
        onClick: () => setBackgroundImage(bg.url),
        className: \`aspect-square rounded-xl border-2 cursor-pointer transition-all duration-300 hover:scale-105 \${settings.backgroundImage === bg.url ? "border-purple-500" : "border-purple-300/30"} shadow-lg hover:shadow-xl overflow-hidden\`,
        style: {
          backgroundImage: \`url(\${bg.url})\`,
          backgroundSize: "cover",
          backgroundPosition: "center"
        }
      },
      /* @__PURE__ */ React.createElement("div", { className: "w-full h-full bg-gradient-to-t from-black/50 to-transparent flex items-end p-2" }, /* @__PURE__ */ React.createElement("span", { className: "text-white text-xs font-medium" }, bg.name))
    ))), /* @__PURE__ */ React.createElement("div", { className: "border-t border-purple-300/30 pt-4 md:pt-6" }, /* @__PURE__ */ React.createElement("label", { className: "block text-sm font-medium mb-3" }, "\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0441\\u043E\\u0431\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u043E\\u0435 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435:"), /* @__PURE__ */ React.createElement("div", { className: "flex flex-col gap-3" }, /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "file",
        accept: "image/*",
        onChange: handleCustomImageUpload,
        className: "hidden",
        id: "background-upload"
      }
    ), /* @__PURE__ */ React.createElement(
      "label",
      {
        htmlFor: "background-upload",
        className: \`\${buttonClasses} text-white px-4 py-3 rounded-xl flex items-center justify-center gap-2 cursor-pointer transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 font-semibold\`
      },
      /* @__PURE__ */ React.createElement(Upload, { className: "w-5 h-5" }),
      "\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0444\\u0430\\u0439\\u043B"
    ), /* @__PURE__ */ React.createElement("span", { className: "text-xs opacity-70 text-center" }, "JPG, PNG, GIF \\u0434\\u043E 10MB"))), /* @__PURE__ */ React.createElement("div", { className: "flex justify-end mt-6 md:mt-8" }, /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowBackgroundModal(false),
        className: \`\${buttonClasses} text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 font-semibold\`
      },
      "\\u0413\\u043E\\u0442\\u043E\\u0432\\u043E"
    )))),
    showAddEventModal && /* @__PURE__ */ React.createElement("div", { className: "fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50" }, /* @__PURE__ */ React.createElement("div", { className: \`w-full max-w-md rounded-2xl shadow-2xl \${cardClasses} p-6 md:p-8 max-h-screen overflow-y-auto\` }, /* @__PURE__ */ React.createElement("div", { className: "flex justify-between items-center mb-6 md:mb-8" }, /* @__PURE__ */ React.createElement("h3", { className: "text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, editingEvent ? "\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u0435" : "\\u041D\\u043E\\u0432\\u043E\\u0435 \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u0435"), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => {
          setShowAddEventModal(false);
          setEditingEvent(null);
          resetForm();
        },
        className: \`p-2 rounded-xl transition-all duration-300 \${headerButtonClasses} hover:scale-105\`
      },
      /* @__PURE__ */ React.createElement(X, { className: "w-5 h-5 md:w-6 md:h-6" })
    )), /* @__PURE__ */ React.createElement("div", { className: "space-y-4 md:space-y-6" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "block text-sm font-bold mb-2 md:mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, "\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435"), /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "text",
        value: eventForm.name,
        onChange: (e) => setEventForm((prev) => ({ ...prev, name: e.target.value })),
        className: \`w-full p-3 md:p-4 rounded-xl border-2 transition-all duration-300 \${isDark ? "bg-gray-800/50 border-purple-500/30 focus:border-purple-400 backdrop-blur-sm" : "bg-white/80 border-purple-300 focus:border-purple-500 backdrop-blur-sm"} focus:outline-none focus:ring-4 focus:ring-purple-500/20 shadow-lg\`,
        placeholder: "\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u044F"
      }
    )), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-2 gap-3 md:gap-4" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "block text-sm font-bold mb-2 md:mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, "\\u0414\\u0430\\u0442\\u0430"), /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "date",
        value: eventForm.date,
        onChange: (e) => setEventForm((prev) => ({ ...prev, date: e.target.value })),
        className: \`w-full p-3 md:p-4 rounded-xl border-2 transition-all duration-300 \${isDark ? "bg-gray-800/50 border-purple-500/30 focus:border-purple-400 backdrop-blur-sm" : "bg-white/80 border-purple-300 focus:border-purple-500 backdrop-blur-sm"} focus:outline-none focus:ring-4 focus:ring-purple-500/20 shadow-lg\`
      }
    )), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "block text-sm font-bold mb-2 md:mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, "\\u0412\\u0440\\u0435\\u043C\\u044F"), /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "time",
        value: eventForm.time,
        onChange: (e) => setEventForm((prev) => ({ ...prev, time: e.target.value })),
        className: \`w-full p-3 md:p-4 rounded-xl border-2 transition-all duration-300 \${isDark ? "bg-gray-800/50 border-purple-500/30 focus:border-purple-400 backdrop-blur-sm" : "bg-white/80 border-purple-300 focus:border-purple-500 backdrop-blur-sm"} focus:outline-none focus:ring-4 focus:ring-purple-500/20 shadow-lg\`
      }
    ))), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-2 gap-3 md:gap-4" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "block text-sm font-bold mb-2 md:mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, "\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0435\\u043D\\u0438\\u0435"), /* @__PURE__ */ React.createElement(
      "select",
      {
        value: eventForm.repeat,
        onChange: (e) => setEventForm((prev) => ({ ...prev, repeat: e.target.value })),
        className: \`w-full p-3 md:p-4 rounded-xl border-2 transition-all duration-300 \${isDark ? "bg-gray-800/50 border-purple-500/30 focus:border-purple-400 backdrop-blur-sm" : "bg-white/80 border-purple-300 focus:border-purple-500 backdrop-blur-sm"} focus:outline-none focus:ring-4 focus:ring-purple-500/20 shadow-lg\`
      },
      /* @__PURE__ */ React.createElement("option", { value: "none" }, "\\u041D\\u0435 \\u043F\\u043E\\u0432\\u0442\\u043E\\u0440\\u044F\\u0442\\u044C"),
      /* @__PURE__ */ React.createElement("option", { value: "daily" }, "\\u0415\\u0436\\u0435\\u0434\\u043D\\u0435\\u0432\\u043D\\u043E"),
      /* @__PURE__ */ React.createElement("option", { value: "weekly" }, "\\u0415\\u0436\\u0435\\u043D\\u0435\\u0434\\u0435\\u043B\\u044C\\u043D\\u043E"),
      /* @__PURE__ */ React.createElement("option", { value: "monthly" }, "\\u0415\\u0436\\u0435\\u043C\\u0435\\u0441\\u044F\\u0447\\u043D\\u043E")
    )), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "block text-sm font-bold mb-2 md:mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, "\\u0418\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B"), /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "number",
        min: "1",
        value: eventForm.repeatInterval,
        onChange: (e) => setEventForm((prev) => ({ ...prev, repeatInterval: e.target.value })),
        className: \`w-full p-3 md:p-4 rounded-xl border-2 transition-all duration-300 \${isDark ? "bg-gray-800/50 border-purple-500/30 focus:border-purple-400 backdrop-blur-sm" : "bg-white/80 border-purple-300 focus:border-purple-500 backdrop-blur-sm"} focus:outline-none focus:ring-4 focus:ring-purple-500/20 shadow-lg\`,
        placeholder: "1"
      }
    )))), /* @__PURE__ */ React.createElement("div", { className: "flex gap-3 md:gap-4 mt-6 md:mt-8" }, /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => {
          setShowAddEventModal(false);
          setEditingEvent(null);
          resetForm();
        },
        className: \`flex-1 py-3 md:py-4 px-4 md:px-6 rounded-xl border-2 transition-all duration-300 \${isDark ? "border-purple-500/30 hover:bg-purple-600/10 backdrop-blur-sm" : "border-purple-300 hover:bg-purple-50 backdrop-blur-sm"} shadow-lg hover:shadow-xl hover:scale-105 font-semibold\`
      },
      "\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430"
    ), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: editingEvent ? updateEvent : addEvent,
        disabled: !eventForm.name || !eventForm.date,
        className: \`flex-1 py-3 md:py-4 px-4 md:px-6 rounded-xl \${buttonClasses} text-white transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 font-semibold\`
      },
      editingEvent ? "\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C" : "\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C"
    )))),
    showNotificationModal && /* @__PURE__ */ React.createElement("div", { className: "fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50" }, /* @__PURE__ */ React.createElement("div", { className: \`w-full max-w-md rounded-2xl shadow-2xl \${cardClasses} p-6 md:p-8 max-h-screen overflow-y-auto\` }, /* @__PURE__ */ React.createElement("div", { className: "flex justify-between items-center mb-6 md:mb-8" }, /* @__PURE__ */ React.createElement("h3", { className: "text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2" }, /* @__PURE__ */ React.createElement(Bell, { className: "w-5 h-5 md:w-6 md:h-6 text-purple-500" }), "\\u0423\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F"), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowNotificationModal(false),
        className: \`p-2 rounded-xl transition-all duration-300 \${headerButtonClasses} hover:scale-105\`
      },
      /* @__PURE__ */ React.createElement(X, { className: "w-5 h-5 md:w-6 md:h-6" })
    )), /* @__PURE__ */ React.createElement("div", { className: "space-y-4 md:space-y-6" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "block text-sm font-bold mb-3 md:mb-4 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, "\\u0423\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u044F\\u0442\\u044C \\u0437\\u0430 (\\u0434\\u043D\\u0438)"), /* @__PURE__ */ React.createElement("div", { className: "space-y-2 md:space-y-3" }, [1, 3, 7, 14, 30].map((days) => /* @__PURE__ */ React.createElement("label", { key: days, className: "flex items-center p-2 md:p-3 rounded-xl bg-gradient-to-r from-purple-100/10 to-pink-100/10 backdrop-blur-sm border border-purple-300/20 hover:border-purple-400/40 transition-all duration-300" }, /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "checkbox",
        checked: settings.notificationDays.includes(days),
        onChange: (e) => {
          if (e.target.checked) {
            setSettings((prev) => ({
              ...prev,
              notificationDays: [...prev.notificationDays, days].sort((a, b) => a - b)
            }));
          } else {
            setSettings((prev) => ({
              ...prev,
              notificationDays: prev.notificationDays.filter((d) => d !== days)
            }));
          }
        },
        className: "mr-3 md:mr-4 w-4 h-4 md:w-5 md:h-5 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500 focus:ring-2"
      }
    ), /* @__PURE__ */ React.createElement("span", { className: "font-medium text-sm md:text-base" }, days, " ", getDaysText(days)))))), /* @__PURE__ */ React.createElement("div", { className: "space-y-2 md:space-y-3" }, /* @__PURE__ */ React.createElement("label", { className: "flex items-center p-2 md:p-3 rounded-xl bg-gradient-to-r from-purple-100/10 to-pink-100/10 backdrop-blur-sm border border-purple-300/20 hover:border-purple-400/40 transition-all duration-300" }, /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "checkbox",
        checked: settings.desktopNotifications,
        onChange: (e) => setSettings((prev) => ({ ...prev, desktopNotifications: e.target.checked })),
        className: "mr-3 md:mr-4 w-4 h-4 md:w-5 md:h-5 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500 focus:ring-2"
      }
    ), /* @__PURE__ */ React.createElement("span", { className: "font-medium text-sm md:text-base" }, "\\u041F\\u043E\\u043A\\u0430\\u0437\\u044B\\u0432\\u0430\\u0442\\u044C \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u043D\\u044B\\u0435 \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F")), /* @__PURE__ */ React.createElement("label", { className: "flex items-center p-2 md:p-3 rounded-xl bg-gradient-to-r from-purple-100/10 to-pink-100/10 backdrop-blur-sm border border-purple-300/20 hover:border-purple-400/40 transition-all duration-300" }, /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "checkbox",
        checked: settings.soundEnabled,
        onChange: (e) => setSettings((prev) => ({ ...prev, soundEnabled: e.target.checked })),
        className: "mr-3 md:mr-4 w-4 h-4 md:w-5 md:h-5 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500 focus:ring-2"
      }
    ), /* @__PURE__ */ React.createElement("span", { className: "font-medium text-sm md:text-base" }, "\\u0417\\u0432\\u0443\\u043A\\u043E\\u0432\\u044B\\u0435 \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F")), /* @__PURE__ */ React.createElement("div", { className: "p-2 md:p-3 rounded-xl bg-gradient-to-r from-purple-100/10 to-pink-100/10 backdrop-blur-sm border border-purple-300/20" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-2" }, /* @__PURE__ */ React.createElement("span", { className: "font-medium text-sm md:text-base" }, "\\u0422\\u0435\\u043C\\u0430 \\u043E\\u0444\\u043E\\u0440\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F"), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: toggleTheme,
        className: \`p-2 rounded-lg transition-all duration-300 \${headerButtonClasses} hover:scale-105\`
      },
      isDark ? /* @__PURE__ */ React.createElement(Sun, { className: "w-4 h-4" }) : /* @__PURE__ */ React.createElement(Moon, { className: "w-4 h-4" })
    )), /* @__PURE__ */ React.createElement("div", { className: "flex gap-2" }, /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setSettings((prev) => ({ ...prev, theme: "light" })),
        className: \`flex-1 p-2 rounded-lg border transition-all duration-300 text-sm font-medium \${settings.theme === "light" ? "border-purple-500 bg-gradient-to-r from-purple-500/20 to-pink-500/20" : "border-purple-300/30 hover:border-purple-400/50"}\`
      },
      "\\u0421\\u0432\\u0435\\u0442\\u043B\\u0430\\u044F"
    ), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setSettings((prev) => ({ ...prev, theme: "dark" })),
        className: \`flex-1 p-2 rounded-lg border transition-all duration-300 text-sm font-medium \${settings.theme === "dark" ? "border-purple-500 bg-gradient-to-r from-purple-500/20 to-pink-500/20" : "border-purple-300/30 hover:border-purple-400/50"}\`
      },
      "\\u0422\\u0435\\u043C\\u043D\\u0430\\u044F"
    ))), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowBackgroundModal(true),
        className: \`w-full p-2 md:p-3 rounded-xl bg-gradient-to-r from-purple-100/10 to-pink-100/10 backdrop-blur-sm border border-purple-300/20 hover:border-purple-400/40 transition-all duration-300 flex items-center justify-center gap-2 font-medium text-sm md:text-base\`
      },
      /* @__PURE__ */ React.createElement(ImageIcon, { className: "w-4 h-4 md:w-5 md:h-5" }),
      "\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0438\\u0442\\u044C \\u0444\\u043E\\u043D"
    )), notifications.length > 0 && /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("h4", { className: "font-bold mb-3 md:mb-4 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, "\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u044B\\u0435 \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F:"), /* @__PURE__ */ React.createElement("div", { className: "space-y-2 md:space-y-3 max-h-32 md:max-h-40 overflow-y-auto" }, notifications.map((notification) => /* @__PURE__ */ React.createElement("div", { key: notification.id, className: \`p-2 md:p-3 rounded-xl \${isDark ? "bg-purple-800/30" : "bg-purple-100/30"} backdrop-blur-sm border border-purple-300/30\` }, /* @__PURE__ */ React.createElement("div", { className: "text-sm font-bold" }, notification.eventName), /* @__PURE__ */ React.createElement("div", { className: "text-xs opacity-70" }, "\\u0427\\u0435\\u0440\\u0435\\u0437 ", notification.daysLeft, " ", getDaysText(notification.daysLeft))))), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setNotifications([]),
        className: "mt-3 md:mt-4 text-sm text-red-400 hover:text-red-300 transition-colors duration-300 font-medium"
      },
      "\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F"
    ))), /* @__PURE__ */ React.createElement("div", { className: "flex justify-end mt-6 md:mt-8" }, /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowNotificationModal(false),
        className: \`\${buttonClasses} text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 font-semibold\`
      },
      "\\u0413\\u043E\\u0442\\u043E\\u0432\\u043E"
    )))),
    showSettingsModal && /* @__PURE__ */ React.createElement("div", { className: "fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50" }, /* @__PURE__ */ React.createElement("div", { className: \`w-full max-w-md rounded-2xl shadow-2xl \${cardClasses} p-6 md:p-8 max-h-screen overflow-y-auto\` }, /* @__PURE__ */ React.createElement("div", { className: "flex justify-between items-center mb-6 md:mb-8" }, /* @__PURE__ */ React.createElement("h3", { className: "text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, "\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438"), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowSettingsModal(false),
        className: \`p-2 rounded-xl transition-all duration-300 \${headerButtonClasses} hover:scale-105\`
      },
      /* @__PURE__ */ React.createElement(X, { className: "w-5 h-5 md:w-6 md:h-6" })
    )), /* @__PURE__ */ React.createElement("div", { className: "space-y-4 md:space-y-6" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "block text-sm font-bold mb-3 md:mb-4 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent" }, "\\u0422\\u0435\\u043C\\u0430"), /* @__PURE__ */ React.createElement("div", { className: "flex gap-2 md:gap-3" }, /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setSettings((prev) => ({ ...prev, theme: "light" })),
        className: \`flex-1 p-3 md:p-4 rounded-xl border-2 flex items-center justify-center gap-2 md:gap-3 transition-all duration-300 font-semibold \${settings.theme === "light" ? "border-purple-500 bg-gradient-to-r from-purple-500/20 to-pink-500/20 shadow-lg" : isDark ? "border-purple-500/30 hover:border-purple-400/50 backdrop-blur-sm" : "border-purple-300 hover:border-purple-400 backdrop-blur-sm"} hover:scale-105 shadow-md hover:shadow-lg\`
      },
      /* @__PURE__ */ React.createElement(Sun, { className: "w-4 h-4 md:w-5 md:h-5" }),
      /* @__PURE__ */ React.createElement("span", { className: "text-sm md:text-base" }, "\\u0421\\u0432\\u0435\\u0442\\u043B\\u0430\\u044F")
    ), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setSettings((prev) => ({ ...prev, theme: "dark" })),
        className: \`flex-1 p-3 md:p-4 rounded-xl border-2 flex items-center justify-center gap-2 md:gap-3 transition-all duration-300 font-semibold \${settings.theme === "dark" ? "border-purple-500 bg-gradient-to-r from-purple-500/20 to-pink-500/20 shadow-lg" : isDark ? "border-purple-500/30 hover:border-purple-400/50 backdrop-blur-sm" : "border-purple-300 hover:border-purple-400 backdrop-blur-sm"} hover:scale-105 shadow-md hover:shadow-lg\`
      },
      /* @__PURE__ */ React.createElement(Moon, { className: "w-4 h-4 md:w-5 md:h-5" }),
      /* @__PURE__ */ React.createElement("span", { className: "text-sm md:text-base" }, "\\u0422\\u0435\\u043C\\u043D\\u0430\\u044F")
    ))), /* @__PURE__ */ React.createElement("div", { className: "space-y-2 md:space-y-3" }, /* @__PURE__ */ React.createElement("label", { className: "flex items-center p-2 md:p-3 rounded-xl bg-gradient-to-r from-purple-100/10 to-pink-100/10 backdrop-blur-sm border border-purple-300/20 hover:border-purple-400/40 transition-all duration-300" }, /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "checkbox",
        checked: settings.soundEnabled,
        onChange: (e) => setSettings((prev) => ({ ...prev, soundEnabled: e.target.checked })),
        className: "mr-3 md:mr-4 w-4 h-4 md:w-5 md:h-5 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500 focus:ring-2"
      }
    ), /* @__PURE__ */ React.createElement("span", { className: "font-medium text-sm md:text-base" }, "\\u0417\\u0432\\u0443\\u043A\\u043E\\u0432\\u044B\\u0435 \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F")), /* @__PURE__ */ React.createElement("label", { className: "flex items-center p-2 md:p-3 rounded-xl bg-gradient-to-r from-purple-100/10 to-pink-100/10 backdrop-blur-sm border border-purple-300/20 hover:border-purple-400/40 transition-all duration-300" }, /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "checkbox",
        checked: settings.desktopNotifications,
        onChange: (e) => setSettings((prev) => ({ ...prev, desktopNotifications: e.target.checked })),
        className: "mr-3 md:mr-4 w-4 h-4 md:w-5 md:h-5 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500 focus:ring-2"
      }
    ), /* @__PURE__ */ React.createElement("span", { className: "font-medium text-sm md:text-base" }, "\\u0421\\u0438\\u0441\\u0442\\u0435\\u043C\\u043D\\u044B\\u0435 \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F")), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowBackgroundModal(true),
        className: \`w-full p-2 md:p-3 rounded-xl bg-gradient-to-r from-purple-100/10 to-pink-100/10 backdrop-blur-sm border border-purple-300/20 hover:border-purple-400/40 transition-all duration-300 flex items-center justify-center gap-2 font-medium text-sm md:text-base\`
      },
      /* @__PURE__ */ React.createElement(ImageIcon, { className: "w-4 h-4 md:w-5 md:h-5" }),
      "\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0438\\u0442\\u044C \\u0444\\u043E\\u043D \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044F"
    ))), /* @__PURE__ */ React.createElement("div", { className: "flex justify-end mt-6 md:mt-8" }, /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowSettingsModal(false),
        className: \`\${buttonClasses} text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 font-semibold\`
      },
      "\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C"
    ))))
  );
};
var stdin_default = EventTimerApp;
export {
  stdin_default as default
};
`;
          }

          // Create a blob URL from the executable code
          const blob = new Blob([componentCode], { type: 'text/javascript' });
          const blobUrl = URL.createObjectURL(blob);

          // Import the default export from the blob URL
          const moduleImport = await import(blobUrl);
          const Component = moduleImport.default;

          // Clean up the blob URL
          URL.revokeObjectURL(blobUrl);

          if (Component) {
              const rootElement = document.getElementById('root');
              const root = createRoot(rootElement);

              // Simple error boundary
              const ErrorBoundary = ({ children }) => {
                  try {
                      return children;
                  } catch (error) {
                      console.error('Component render error:', error);
                      return React.createElement('div', {
                          style: { padding: '20px', color: '#d32f2f', background: '#ffebee', borderRadius: '4px' }
                      }, [
                          React.createElement('h3', { key: 'title' }, 'Component Error'),
                          React.createElement('p', { key: 'error' }, 'Error: ' + error.message)
                      ]);
                  }
              };

              root.render(React.createElement(ErrorBoundary, {}, React.createElement(Component)));
          } else {
              console.error('No component found in module export');
              document.getElementById('root').innerHTML = '<div style="padding: 20px; color: #666;">No React component found - check console for details</div>';
          }
      } catch (error) {
          console.error('Error loading component:', error);
          document.getElementById('root').innerHTML = `
              <div style="padding: 20px; color: #d32f2f; background: #ffebee; border-radius: 4px;">
                  <h3>Error loading component</h3>
                  <p><strong>Error:</strong> ${error.message}</p>
                  <p>Please check the browser console for more details.</p>
              </div>
          `;
      }
    </script>
  </body>
</html>
